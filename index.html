<!doctypehtml><html lang=en><meta charset=utf-8><meta content="width=device-width,initial-scale=1"name=viewport><title>CONTRAAAST…Color Contrast Confabulator</title><style>:root{interpolate-size:allow-keywords;color-scheme:light dark;--color-1:#000000;--color-2:#ffffff;--measure:100ch;--type-family-mono:ui-monospace,monospace;--type-scale-body:clamp(0.95rem, 0.8286rem + 0.6071vw, 1.375rem);--type-scale-display:clamp(1.75rem, 0.25rem + 7.5vw, 7rem);--type-scale-functional:clamp(0.75rem, 0.6964rem + 0.2679vw, 0.9375rem);--type-leading-tight:1;--type-leading-open:clamp(1.4, 1.4 + 0.2 * (100vw - 320px) / 1120px, 1.6);--type-tracking-slight:0.010ch;--type-tracking-tight:-0.050ch;--type-tracking-tight-0:calc(var(--type-tracking-tight) * (1 - min(1, (100vw - 320px) / 1120px)));--type-weight-500:500;--type-weight-700:700;--space-4:0.25rem;--space-8:0.5rem;--space-12:0.75rem;--space-24:1.5rem;--space-32:2rem;--space-0-4:clamp(0rem, -0.0714rem + 0.3571vw, 0.25rem);--space-8-12:clamp(0.5rem, 0.4286rem + 0.3571vw, 0.75rem);--space-12-16:clamp(0.75rem, 0.6786rem + 0.3571vw, 1rem);--space-12-24:clamp(0.75rem, 0.5357rem + 1.0714vw, 1.5rem);--space-12-32:clamp(0.75rem, 0.3929rem + 1.7857vw, 2rem);--space-12-8:clamp(0.5rem, 0.8214rem - 0.3571vw, 0.75rem);--space-16-12:clamp(0.75rem, 1.0714rem - 0.3571vw, 1rem);--space-20-16:clamp(1rem, 1.3214rem - 0.3571vw, 1.25rem);--corner:0.5em;--dashed-line-thin:clamp(0.0625rem, 0.0446rem + 0.0893vw, 0.125rem) dashed currentColor;--dashed-line-thick:clamp(0.375rem, 0.3036rem + 0.3571vw, 0.625rem) dashed currentColor;--shadow-color:219 3% 15%;--shadow-strength:1%;--shadow:0 -1px 2px 0 hsl(var(--shadow-color) / calc(var(--shadow-strength) + 2%)),0 2px 1px -2px hsl(var(--shadow-color) / calc(var(--shadow-strength) + 3%)),0 5px 5px -2px hsl(var(--shadow-color) / calc(var(--shadow-strength) + 3%)),0 10px 10px -2px hsl(var(--shadow-color) / calc(var(--shadow-strength) + 4%)),0 20px 20px -2px hsl(var(--shadow-color) / calc(var(--shadow-strength) + 5%)),0 40px 40px -2px hsl(var(--shadow-color) / calc(var(--shadow-strength) + 7%));--duration-1:240ms;--duration-2:360ms;--duration-3:420ms;--ease-in-out-quadratic:cubic-bezier(0.455, 0.03, 0.515, 0.955)}*,::after,::before{background-color:inherit;color:inherit;box-sizing:border-box;margin:0;padding:0}html{font-size:100%;min-block-size:100dvh;text-size-adjust:none;-moz-text-size-adjust:none;-webkit-text-size-adjust:none}body{color:var(--color-1);background-color:var(--color-2);border-block:var(--dashed-line-thick);font-family:var(--type-family-mono);line-height:var(--type-leading-open);min-block-size:100dvh}a{text-decoration-thickness:.15ex;text-underline-offset:.25ex}:is(a:hover,a:focus){text-underline-offset:.35ex}a:active{text-decoration-style:dashed;text-decoration-thickness:.2ex}h1{font-size:var(--type-scale-body);letter-spacing:var(--type-tracking-slight)}h1 a{text-decoration:none}h1 span{color:var(--color-2);background-color:var(--color-1)}h2,h4{font-size:var(--type-scale-functional);font-weight:var(--type-weight-500);letter-spacing:var(--type-tracking-slight);text-transform:uppercase}h3{font-size:var(--type-scale-body)}p{font-size:var(--type-scale-body);-webkit-hyphens:auto;-webkit-hyphenate-limit-before:3;-webkit-hyphenate-limit-after:3;-webkit-hyphenate-limit-chars:6 3 3;-webkit-hyphenate-limit-lines:2;-webkit-hyphenate-limit-last:always;-webkit-hyphenate-limit-zone:8%;hyphens:auto;hyphenate-limit-chars:6 3 3;hyphenate-limit-lines:2;hyphenate-limit-last:always;hyphenate-limit-zone:8%}small{font-size:var(--type-scale-functional);letter-spacing:var(--type-tracking-tight)}output{font-size:var(--type-scale-display);font-weight:var(--type-weight-700);line-height:var(--type-leading-tight);letter-spacing:var(--type-tracking-tight-0);overflow-x:scroll;pointer-events:none}main section:nth-of-type(1){text-align:right}main section:nth-of-type(2){text-align:center}main section:nth-of-type(3){text-align:left}button{display:inline-flex;justify-content:center;border:2px solid currentColor;border-radius:var(--corner);padding-block:var(--space-12-16);padding-inline:var(--space-16-12);direction:rtl;font:inherit;font-size:var(--type-scale-body);font-weight:var(--type-weight-700);line-height:var(--type-leading-tight);text-wrap:nowrap;cursor:pointer;overflow:clip}button:is(:focus,:active){outline:var(--dashed-line-thin)}button:focus{outline-offset:2px}button:active{outline-offset:-6px}.btn-icon{background-color:transparent;border:none;padding:0;margin-inline:0}.btn-icon:is(:focus,:active){outline-offset:1px}.btn-icon:active{outline-offset:0}.btn-icon .icon{transform:scale(1);transition:transform var(--duration-3) var(--ease-in-out-quadratic)}.btn-icon:hover .icon{transform:scale(1.1);transition-duration:var(--duration-1)}.btn-action .icon{opacity:.6;transform:scale(1);transition:opacity var(--duration-3) var(--ease-in-out-quadratic),transform var(--duration-3) var(--ease-in-out-quadratic);animation:none}.btn-action:hover .icon{opacity:1;transform:scale(1.05);transition-duration:var(--duration-1);animation:beat var(--duration-2) var(--ease-in-out-quadratic) infinite}.icon-fade-in,.icon-fade-out{transition-property:opacity;transition-timing-function:var(--ease-in-out-quadratic)}.icon-fade-out{transition-duration:var(--duration-1);opacity:0}.icon-fade-in{transition-duration:360ms;opacity:1}dialog{border-block:var(--dashed-line-thick);border-inline:none;box-shadow:var(--shadow);margin-block:auto!important;padding-block:var(--space-16-12) var(--space-12-24);padding-inline:var(--space-12-32)}dialog[open],dialog[open]::backdrop{animation-duration:var(--duration-3);animation-timing-function:var(--ease-in-out-quadratic);animation-fill-mode:forwards}dialog[open]{animation-name:fade-in}dialog[open]::backdrop{animation-name:fade-in-backdrop}.center{box-sizing:content-box;margin-inline:auto;max-inline-size:var(--measure)}.cover{display:flex;flex-direction:column;min-block-size:100vh;padding-block:var(--space-12-8) var(--space-0-4);padding-inline:var(--space-8-12)}.cover>*{margin-block:var(--space-12-16)}.cover>:first-child:not(main){margin-block-start:0}.cover>:last-child:not(main){margin-block-end:0}.cover>main{margin-block:auto}.with-icon{display:inline-flex;align-items:center}.icon{height:2.6cap;width:2.6cap}.with-icon .icon{margin-inline-end:var(--space-12)}.stack-x{display:flex;flex-wrap:wrap;gap:var(--space-8);justify-content:space-between;align-items:center}[class^=stack-y]{display:flex;flex-direction:column;justify-content:flex-start}[class^=stack-y]>*{margin-block:0}.stack-y-4>*+*{margin-block-start:var(--space-4)}.stack-y-8>*+*{margin-block-start:var(--space-8)}.stack-y-24>*+*{margin-block-start:var(--space-24)}.stack-y-32>*+*{margin-block-start:var(--space-32)}.switcher{display:flex;flex-wrap:wrap;gap:var(--space-12-16)}.switcher>*{--measure:50rem;flex-grow:1;flex-basis:calc((var(--measure) - 100%) * 999)}.switcher>:nth-last-child(n+4),.switcher>:nth-last-child(n+4)~*{flex-basis:100%}main.switcher{gap:var(--space-20-16)}.cr{display:flex;flex-grow:1;align-items:center;justify-content:center;margin-block:auto}.jcfe{justify-content:flex-end}.jcsa{justify-content:space-around}.mi0{margin-inline:0!important}.mi4{margin-inline:var(--space-4)}.sc{font-variant-caps:all-small-caps;letter-spacing:var(--type-tracking-slight)}.vh{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);white-space:nowrap;border-width:0}@keyframes beat{0%,100%{transform:scale(1)}50%{transform:scale(1.2)}}@keyframes fade-in{0%{opacity:0;display:none}100%{opacity:1;display:block}}@keyframes fade-in-backdrop{0%{background-color:hsla(0,0%,0%,0)}100%{background-color:hsla(0,0%,0%,.35)}}@media (prefers-reduced-motion:reduce){*,::after,::before{animation-duration:0s!important;animation-iteration-count:1!important;transition-duration:0s!important;scroll-behavior:auto!important}}@media screen and (max-width:50rem){main section:nth-of-type(n+1){text-align:center}main section:nth-of-type(1){order:1}main section:nth-of-type(2){order:3}main section:nth-of-type(3){order:2}footer button:nth-of-type(1){order:2}footer button:nth-of-type(2){order:3}footer button:nth-of-type(3){order:1}.with-icon{justify-content:space-between}.cr{align-items:normal;flex-grow:0;margin-block:0}#ratio{margin-block-start:var(--space-8)}:where(#color1,#color2){text-wrap:nowrap}}</style><meta content=#000000 name=theme-color><meta content="CONTRAAAST…WCAG AAA color-pair generator"name=description><meta content="Timothy Martens"name=author><body class=cover><header class=stack-x><h1><a href=""title="CONTRAAAST…WCAG AAA Color-pair Generator">CONTR<span>AAA</span>ST</a></h1><button aria-label="Information about CONTRAAAST"class="with-icon btn-icon"id=info><svg aria-hidden=true class="icon mi0"><use href=#icon-info></use></svg> <span class=vh>Info</span></button></header><main class=switcher><section class=stack-y-8><label for=color1><h2>Foreground Color</h2></label><output aria-live=polite id=color1 name=color1></output></section><section class=stack-y-8><label for=ratio><h2>Contrast Ratio</h2></label><div class=cr><output aria-live=polite id=ratio name=ratio></output></div></section><section class=stack-y-8><label for=color2><h2>Background Color</h2></label><output aria-live=polite id=color2 name=color2></output></section></main><footer class=stack-y-32><section class=switcher><button aria-label="Swap foreground and background colors"class="with-icon btn-action"id=invert><svg aria-hidden=true class=icon><use href=#icon-swap></use></svg> Swap</button> <button aria-label="Generate a new color-pair"class="with-icon btn-action"id=run><svg aria-hidden=true class=icon><use href=#icon-color></use></svg> Color Me</button> <button aria-label="Get the CSS for this color-pair"class="with-icon btn-action"id=copy><svg aria-hidden=true class=icon><use href=#icon-copy></use></svg> Copy</button></section><section class=stack-x><small><span class=sc>AAA</span> color-pairs</small> <small>7‒21</small> <small>©'25 <a href=https://timpish.com>Timothy Martens</a></small></section></footer><dialog class=center id=dialog role=dialog><section class=stack-y-24><header class=stack-x><h3>About</h3><button aria-label="Close information dialog"class="with-icon btn-icon"id=close><svg aria-hidden=true class="icon mi0"><use href=#icon-close></use></svg> <span class=vh>Close</span></button></header><p>CONTRAAAST generates random <abbr class=sc title="Oklab Lightness, Chroma, Hue">OKLCH</abbr> color theme pairs compliant with <abbr class=sc title="Web Content Accessibility Guidelines">WCAG</abbr> <a href=https://www.w3.org/WAI/WCAG21/Understanding/contrast-enhanced.html target=_blank>Success Criterion 1.4.6</a>. Level AAA color contrast ratios range from 7∶1 to 21∶1. Black<span class=mi4>↔</span>White have the maximum contrast ratio of 21∶1.<section class="stack-x jcsa"><div class=stack-y-4><h4>High Score</h4><output aria-live=polite id=high-score></output></div><div class=stack-y-4><h4>№ of Runs</h4><output aria-live=polite id=no-of-runs></output></div></section><p>Did you hit Blackjack/21? Post your high score and favorite colors-pairs on <a href=https://www.linkedin.com/in/timothyfmartens/ >LinkedIn</a>!</p><small class="stack-x jcfe"><span>Looking for <a href=https://contraaast.timpish.com/v1>Version 1</a>?</span></small></section></dialog><svg aria-hidden=”true” class=vh display=none height=0 width=0 xmlns=http://www.w3.org/2000/svg xmlns:xlink=http://www.w3.org/1999/xlink><defs><symbol id=icon-info title="Information Icon"viewBox="0 0 256 256"><circle cx=128 cy=128 fill=none r=96 stroke=currentColor stroke-linecap=round stroke-linejoin=round stroke-width=16 /><path d="M120 120a8 8 0 0 1 8 8v40a8 8 0 0 0 8 8"stroke=currentColor stroke-linecap=round stroke-linejoin=round stroke-width=16 fill=none /><circle cx=124 cy=84 fill=currentColor r=12 /></symbol><symbol id=icon-close title="Close Icon"viewBox="0 0 256 256"><path d="M200 56 56 200m144 0L56 56"stroke=currentColor stroke-linecap=round stroke-linejoin=round stroke-width=16 /></symbol><symbol id=icon-swap title="Swap Colors Icon"viewBox="0 0 256 256"><path d="M80 160h128a8 8 0 0 0 8-8V48a8 8 0 0 0-8-8H96a8 8 0 0 0-8 8v8"stroke=currentColor stroke-linecap=round stroke-linejoin=round stroke-width=16 fill=none /><path d="m104 136-24 24 24 24"stroke=currentColor stroke-linecap=round stroke-linejoin=round stroke-width=16 fill=none /><path d="M176 96H48a8 8 0 0 0-8 8v104a8 8 0 0 0 8 8h112a8 8 0 0 0 8-8v-8"stroke=currentColor stroke-linecap=round stroke-linejoin=round stroke-width=16 fill=none /><path d="m152 120 24-24-24-24"stroke=currentColor stroke-linecap=round stroke-linejoin=round stroke-width=16 fill=none /></symbol><symbol id=icon-color title="Generate Color-Pair Icon"viewBox="0 0 256 256"><path d="M128 192a24 24 0 0 1 24-24h46.21a24 24 0 0 0 23.4-18.65 96.48 96.48 0 0 0 2.39-22.18c-.45-52.82-44.16-95.7-97-95.17a96 96 0 0 0-95 96c0 41.81 26.73 73.44 64 86.61A24 24 0 0 0 128 192Z"stroke=currentColor stroke-linecap=round stroke-linejoin=round stroke-width=16 fill=none /><circle cx=128 cy=76 fill=currentColor r=12 /><circle cx=84 cy=100 fill=currentColor r=12 /><circle cx=84 cy=156 fill=currentColor r=12 /><circle cx=172 cy=100 fill=currentColor r=12 /></symbol><symbol id=icon-copy title="Copy CSS Code Icon"viewBox="0 0 256 256"><path d="M168 168h48V40H88v48"stroke=currentColor stroke-linecap=round stroke-linejoin=round stroke-width=16 fill=none /><path d="M40 88h128v128H40z"stroke=currentColor stroke-linecap=round stroke-linejoin=round stroke-width=16 fill=none /></symbol><symbol id=icon-check title="Confirm Copy CSS Code Check Icon"viewBox="0 0 256 256"><path d="m40 144 56 56L224 72"stroke=currentColor stroke-linecap=round stroke-linejoin=round stroke-width=16 fill=none /></symbol></defs></svg><script>const WCAG_AAA_MIN_CONTRAST=7,MAX_CONTRAST=21,STORAGE_KEY="contraaastStats";let currentStats={runs:0,highScore:0};const elements={color1:document.getElementById("color1"),color2:document.getElementById("color2"),ratio:document.getElementById("ratio"),invertBtn:document.getElementById("invert"),runBtn:document.getElementById("run"),copyBtn:document.getElementById("copy"),noOfRuns:document.getElementById("no-of-runs"),highScore:document.getElementById("high-score"),showBtn:document.getElementById("info"),closeBtn:document.getElementById("close"),dialog:document.getElementById("dialog"),titleSpan:document.querySelector("h1 span")},colorCanvas=document.createElement("canvas");colorCanvas.width=1,colorCanvas.height=1;const colorCtx=colorCanvas.getContext("2d");function loadStats(){try{const t=localStorage.getItem(STORAGE_KEY);t&&(currentStats=JSON.parse(t),updateStatsDisplay())}catch(t){console.error("Error parsing saved stats:",t),saveStats()}}function saveStats(){try{localStorage.setItem(STORAGE_KEY,JSON.stringify(currentStats)),updateStatsDisplay()}catch(t){console.error("Error saving stats:",t)}}function updateStatsDisplay(){elements.noOfRuns&&elements.highScore&&(elements.noOfRuns.textContent=currentStats.runs.toLocaleString(),currentStats.highScore>=21?elements.highScore.textContent="21!":elements.highScore.textContent=currentStats.highScore.toFixed(1))}function oklchToHex(t){try{colorCtx.fillStyle=t,colorCtx.fillRect(0,0,1,1);const e=colorCtx.getImageData(0,0,1,1).data;return`#${byteToHex(e[0])}${byteToHex(e[1])}${byteToHex(e[2])}`}catch(t){return console.error("Error converting OKLCH to hex:",t),"#000000"}}function byteToHex(t){return("0"+(t||0).toString(16)).slice(-2)}function parseOklch(t){try{const e=t.match(/oklch\(([0-9.]+)\s+([0-9.]+)\s+([0-9]+)/);return!e||e.length<4?(console.error("Could not parse OKLCH color:",t),{l:.5,c:.1,h:0}):{l:parseFloat(e[1])||.5,c:parseFloat(e[2])||.1,h:parseInt(e[3])||0}}catch(t){return console.error("Error parsing OKLCH:",t),{l:.5,c:.1,h:0}}}function formatOklch(t,e,o){const n=Math.max(0,Math.min(1,t||.5)),r=Math.max(0,e||.1),a=Math.max(0,Math.min(360,o||0));return`oklch(${n.toFixed(2)} ${r.toFixed(4)} ${a.toFixed(2)})`}function formatOklchDisplay(t){const{l:e,c:o,h:n}=parseOklch(t);return`${e.toFixed(2)} ${o.toFixed(4)} ${n.toFixed(2)}`}function calculateContrastRatio(t,e){try{const o=getLuminance(t),n=getLuminance(e);return o>n?(o+.05)/(n+.05):(n+.05)/(o+.05)}catch(t){return console.error("Error calculating contrast ratio:",t),WCAG_AAA_MIN_CONTRAST}}function getLuminance(t){try{colorCtx.fillStyle=t,colorCtx.fillRect(0,0,1,1);const[e,o,n]=colorCtx.getImageData(0,0,1,1).data,r=srgbToLinear(e/255),a=srgbToLinear(o/255);return.2126*r+.7152*a+.0722*srgbToLinear(n/255)}catch(t){return console.error("Error getting luminance:",t),.5}}function srgbToLinear(t){return(t=Math.max(0,Math.min(1,t||0)))<=.03928?t/12.92:Math.pow((t+.055)/1.055,2.4)}function initializeWithDefaultColors(){const t=window.matchMedia("(prefers-color-scheme: dark)").matches;updateUIWithColors(t?"oklch(1 0 0)":"oklch(0 0 0)",t?"oklch(0 0 0)":"oklch(1 0 0)",MAX_CONTRAST)}function updateUIWithColors(t,e,o){elements.color1&&(elements.color1.textContent=formatOklchDisplay(t)),elements.color2&&(elements.color2.textContent=formatOklchDisplay(e)),elements.ratio&&(elements.ratio.textContent=o.toFixed(1)),document.documentElement.style.setProperty("--color-1",t),document.documentElement.style.setProperty("--color-2",e)}function randomInRange(t,e){return t=Number(t)||0,e=Number(e)||1,t+Math.random()*(e-t)}function generateRandomOklchColor(){return formatOklch(randomInRange(.1,.9),randomInRange(.02,.2),Math.floor(360*Math.random()))}function generateOklchWithLightness(t){return formatOklch(t,randomInRange(.02,.2),Math.floor(360*Math.random()))}function generateDiverseColorPair(t,e,o=50){let n=null,r=0;t=Math.max(WCAG_AAA_MIN_CONTRAST,Number(t)||WCAG_AAA_MIN_CONTRAST),e=Math.min(MAX_CONTRAST,Number(e)||MAX_CONTRAST),o=Math.min(100,Math.max(10,Number(o)||50));for(let a=0;a<o;a++){const o=generateRandomOklchColor(),a=generateRandomOklchColor(),l=calculateContrastRatio(o,a);if(l>=t&&l<=e){if(Math.random()<.2)return{foreground:o,background:a,ratio:l};l>r&&(n={foreground:o,background:a,ratio:l},r=l)}}return null!==n?n:generateOptimizedContrastPair(randomInRange(t,e))}function generateOptimizedContrastPair(t){t=Math.max(WCAG_AAA_MIN_CONTRAST,Math.min(MAX_CONTRAST,Number(t)||WCAG_AAA_MIN_CONTRAST));const e=randomInRange(.1,.9),o=generateOklchWithLightness(e);let n;n=e<.5?randomInRange(.7,.95):randomInRange(.05,.3);const r=generateOklchWithLightness(n);return finetuneContrast(o,r,t,calculateContrastRatio(o,r))}function finetuneContrast(t,e,o,n){const r=parseOklch(t),a=parseOklch(e);let l=0;for(;Math.abs(n-o)>.15&&l<15&&n>=WCAG_AAA_MIN_CONTRAST&&n<=MAX_CONTRAST;){l++;let c=a;const i=Math.min(.05,Math.abs(n-o)/20);n<o?r.l<a.l?c.l=Math.min(.98,c.l+i):c.l=Math.max(.02,c.l-i):r.l<a.l?c.l=Math.max(r.l+.1,c.l-i):c.l=Math.min(r.l-.1,c.l+i);const s=formatOklch(c.l,c.c,c.h),m=calculateContrastRatio(t,s);if(!(Math.abs(m-o)<Math.abs(n-o)&&m>=WCAG_AAA_MIN_CONTRAST&&m<=MAX_CONTRAST))break;e=s,n=m}const c=calculateContrastRatio(t,e);return c<WCAG_AAA_MIN_CONTRAST||c>MAX_CONTRAST?generateFallbackContrastPair():{foreground:t,background:e,ratio:c}}function generateFallbackContrastPair(){let t,e;if(Math.random()>.5){const o=randomInRange(180,300),n=randomInRange(20,80);t=formatOklch(randomInRange(.1,.3),randomInRange(.05,.15),o),e=formatOklch(randomInRange(.7,.9),randomInRange(.05,.15),n)}else{const o=randomInRange(180,300),n=randomInRange(20,80);t=formatOklch(randomInRange(.1,.3),randomInRange(.05,.15),n),e=formatOklch(randomInRange(.7,.9),randomInRange(.05,.15),o)}const o=calculateContrastRatio(t,e);return o<WCAG_AAA_MIN_CONTRAST||o>MAX_CONTRAST?(console.warn("Fallback strategy failed to generate valid contrast, retrying..."),generateFallbackContrastPair()):{foreground:t,background:e,ratio:o}}function generateColorPair(){const t=[{min:7,max:10},{min:10,max:13},{min:13,max:17},{min:17,max:21}],e=t[Math.floor(Math.random()*t.length)];try{if(Math.random()>.5){const t=generateDiverseColorPair(e.min,e.max);return t.ratio<WCAG_AAA_MIN_CONTRAST||t.ratio>MAX_CONTRAST?(console.warn("Direct strategy failed to generate valid contrast, using fallback"),generateFallbackContrastPair()):t}{const t=generateOptimizedContrastPair(randomInRange(e.min,e.max));return t.ratio<WCAG_AAA_MIN_CONTRAST||t.ratio>MAX_CONTRAST?(console.warn("Optimized strategy failed to generate valid contrast, using fallback"),generateFallbackContrastPair()):t}}catch(t){return console.error("Error generating color pair:",t),generateFallbackContrastPair()}}function updateColorDisplay(t){t?(updateUIWithColors(t.foreground,t.background,t.ratio),currentStats.runs++,t.ratio>currentStats.highScore&&(currentStats.highScore=Math.min(t.ratio,21),t.ratio>=21?console.log("MAXIMUM SCORE: 21!!!"):console.log(`New high score: ${t.ratio.toFixed(1)}!`)),saveStats()):console.error("No color pair provided to updateColorDisplay")}function swapColors(){const t=getComputedStyle(document.documentElement).getPropertyValue("--color-1").trim(),e=getComputedStyle(document.documentElement).getPropertyValue("--color-2").trim();if(t&&e){updateUIWithColors(e,t,parseFloat(elements.ratio?.textContent||"7.0"))}else{const t=elements.color1?.textContent,e=elements.color2?.textContent;if(!t||!e)return void console.error("Could not get color values for swapping");const[o,n,r]=t.split(" "),[a,l,c]=e.split(" ");updateUIWithColors(`oklch(${a} ${l} ${c})`,`oklch(${o} ${n} ${r})`,parseFloat(elements.ratio?.textContent||"7.0"))}}function copyColorInfo(){try{const t=getComputedStyle(document.documentElement).getPropertyValue("--color-1").trim(),e=getComputedStyle(document.documentElement).getPropertyValue("--color-2").trim(),o=elements.ratio?.textContent;let n,r;if(t&&e)n=t,r=e;else{const t=elements.color1?.textContent,e=elements.color2?.textContent;if(!t||!e)return void console.error("Could not get color values for copying");const[o,a,l]=t.split(" "),[c,i,s]=e.split(" ");n=`oklch(${o} ${a} ${l})`,r=`oklch(${c} ${i} ${s})`}const a=oklchToHex(n),l=`:where(html) {\n  /* CONTRAAAST  - WCAG AAA high contrast color-pairs */\n  /* https://contraaast.timpish.com */\n  /* Contrast Ratio: ${o} */\n  --_color-foreground: var(--color-1, ${n}, ${a});\n  --_color-background: var(--color-2, ${r}, ${oklchToHex(r)});\n}`;navigator.clipboard.writeText(l).then((()=>{const t=elements.copyBtn?.querySelector("use");if(t){const e=t.getAttribute("href");t.classList.add("icon-fade-out"),setTimeout((()=>{t.setAttribute("href","#icon-check"),t.classList.remove("icon-fade-out"),t.classList.add("icon-fade-in"),setTimeout((()=>{t.classList.remove("icon-fade-in"),t.classList.add("icon-fade-out"),setTimeout((()=>{t.setAttribute("href",e),t.classList.remove("icon-fade-out"),t.classList.add("icon-fade-in"),setTimeout((()=>{t.classList.remove("icon-fade-in")}),360)}),240)}),1e3)}),240)}})).catch((t=>{console.error("Failed to copy text: ",t)}))}catch(t){console.error("Error copying color info:",t)}}function initialize(){try{loadStats(),elements.invertBtn&&elements.invertBtn.addEventListener("click",swapColors),elements.runBtn&&elements.runBtn.addEventListener("click",(()=>{updateColorDisplay(generateColorPair())})),elements.copyBtn&&elements.copyBtn.addEventListener("click",copyColorInfo),elements.showBtn&&elements.dialog&&elements.showBtn.addEventListener("click",(()=>{elements.dialog.showModal()})),elements.closeBtn&&elements.dialog&&elements.closeBtn.addEventListener("click",(()=>{elements.dialog.close()})),window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",initializeWithDefaultColors),initializeWithDefaultColors()}catch(t){console.error("Error initializing application:",t)}}"interactive"===document.readyState||"complete"===document.readyState?initialize():document.addEventListener("DOMContentLoaded",initialize);</script></body></html>
